<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>교민의 첫 웹사이트</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      .lightbox {
        display: none;
        position: fixed;
        z-index: 999;
        justify-content: center;
        align-items: center;
        background: rgba(0, 0, 0, 0.9);
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      .lightbox img {
        max-width: 80%;
        max-height: 80%;
      }

      .lightbox button {
        position: absolute;
        top: 50%;
        background: none;
        color: white;
        font-size: 3em;
        border: none;
        cursor: pointer;
        padding: 0 20px;
        user-select: none;
        z-index: 1000;
      }

      #prevBtn { left: 0; }
      #nextBtn { right: 0; }
    </style>
  </head>
  <body>
    <h1>안녕하세요! 저는 구교민입니다 🧑‍💻</h1>
    <p>이건 제 첫 GitHub Pages 웹사이트입니다.</p>

    <h2>🎵 감성 플레이리스트</h2>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/pcjR7EHyiaE" 
            frameborder="0" allowfullscreen></iframe>

    <h2>🏆 나의 커리어</h2>
    <div class="gallery">
      <figure>
        <img src="images/pubg_gamescom_win.jpg" alt="Gamescom Invitational Solo Winner" onclick="openLightbox(this.src)" />
        <figcaption>2017 PUBG Gamescom Invitational Solo Winner</figcaption>
      </figure>
      <figure>
        <img src="images/pubg_asia_win.jpg" alt="PUBG Asia Duo Champion" onclick="openLightbox(this.src)" />
        <figcaption>2017 PUBG Asia Invitational Duo Winner</figcaption>
      </figure>
      <figure>
        <img src="images/pubg_600k_team.jpg" alt="600K Showdown Winner" onclick="openLightbox(this.src)" />
        <figcaption>PGI Showdown – 1st Place ($600,000)</figcaption>
      </figure>
      <figure>
        <img src="images/ogn_supermatch.jpg" alt="OGN Supermatch" onclick="openLightbox(this.src)" />
        <figcaption>Seoul Cup OGN Supermatch Champion</figcaption>
      </figure>
      <figure>
        <img src="images/overwatch_5k.jpg" alt="overwatch 5k" onclick="openLightbox(this.src)" />
        <figcaption>overwatch rank 5000 No1</figcaption>
      </figure>
    </div>

    <audio controls autoplay loop>
      <source src="music.mp3" type="audio/mpeg" />
      브라우저가 오디오를 지원하지 않아요.
    </audio>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox(event)">
      <button id="prevBtn" onclick="prevImage(event)">&#10094;</button>
      <img id="lightbox-img" src="" alt="확대 이미지" />
      <button id="nextBtn" onclick="nextImage(event)">&#10095;</button>
    </div>

    <script>
      const images = Array.from(document.querySelectorAll('.gallery img'));
      let currentIndex = 0;

      function openLightbox(src) {
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');

        currentIndex = images.findIndex(img => img.src.includes(src.split('/').pop()));
        lightboxImg.src = images[currentIndex].src;
        lightbox.style.display = 'flex';
      }

      function closeLightbox(event) {
        if (event.target.id === 'lightbox' || event.target.tagName === 'IMG') {
          document.getElementById('lightbox').style.display = 'none';
        }
      }

      function prevImage(event) {
        event.stopPropagation();
        currentIndex = (currentIndex - 1 + images.length) % images.length;
        document.getElementById('lightbox-img').src = images[currentIndex].src;
      }

      function nextImage(event) {
        event.stopPropagation();
        currentIndex = (currentIndex + 1) % images.length;
        document.getElementById('lightbox-img').src = images[currentIndex].src;
      }
    </script>
  </body>
</html>